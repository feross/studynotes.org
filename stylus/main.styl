@import 'nib'
@import 'util'

HERO_FONT = 'adelle', Georgia, serif
BODY_FONT = 'proxima-nova', Helvetica, sans-serif

// Cheer up emo kid
// http://www.colourlovers.com/palette/1930/cheer_up_emo_kid

MIGHTY_SLATE = rgb(85,98,112)
PACIFICA = rgb(78,205,196)
APPLE_CHIC = rgb(199,244,100)
CHEERY_PINK = rgb(255,107,107)
GRANDMAS_PILLOW = rgb(196,77,88)

BLUE = #08C
LIGHT_BLUE = lighten(BLUE, 50)
DARK_BLUE = #005580

LIGHTEST_GRAY = #EEE
LIGHTER_GRAY = #CCC
LIGHT_GRAY = #AAA
GRAY = #666
DARK_GRAY = #555
DARKER_GRAY = #333

LOGO_WIDTH = 131px

//
// STRUCTURE AND TYPOGRAPHY
//

*
  box-sizing: border-box
  line-height: 1.4em

html
  overflow-y: scroll

body
  color: DARKER_GRAY
  font-family: BODY_FONT
  font-size: 16px
  margin: 0
  padding: 0
  position: relative
  -webkit-font-smoothing: antialiased

img
  max-width: 100%

ul, ol
  margin: 0
  padding: 0

a
  {LINK}
    color: BLUE
    text-decoration: none

  {HOVER}
    color: DARK_BLUE
    text-decoration: underline

h1, h2, h3, h4, h5
  font-family: HERO_FONT
  font-weight: 500
  line-height: 1.2em
  text-rendering: optimizelegibility
h1
  font-size: 36px
h2
  font-size: 24px
h3
  font-size: 20px
h4
  font-size: 18px
h5
  font-size: 16px

p
  margin: 1em 0

ul.listing
  list-style: none
  margin-bottom: 20px
  li
    background: #EEE
    color: DARKER_GRAY
    ellipsis()
    padding: 10px 25px
  li:nth-child(even)
    background: #FFF

  .content &
    font-weight: bold

.gray
  color: LIGHT_GRAY

.center
  text-align: center

//
// HEADER
//

HEADER_HEIGHT = 50px

HEADER_BORDER = 1px solid rgba(255, 255, 255, 0.6)
SOLID_HEADER_BORDER = 1px solid LIGHTER_GRAY

HEADER_BORDER_FOCUS = 3px solid #FFF
SOLID_HEADER_BORDER_FOCUS = 3px solid #000

.header
  background-color: transparent
  border-bottom: HEADER_BORDER
  height: HEADER_HEIGHT
  left: 0
  position: fixed
  top: 0
  width: 100%
  z-index: 10

  html:not(.solidHeader) &
    background-color: rgba(0,0,0,0.1)

  .solidHeader &
    background-color: #FFF
    border-bottom: SOLID_HEADER_BORDER

  ul
    list-style: none
    padding: 0 // reset global ul padding
    position: absolute
    top: 0

    &.left
      left: 0

      li a
        {LINK}
          border-right: HEADER_BORDER
        {HOVER}
          border: HEADER_BORDER_FOCUS
          padding: 14px 16px 0 15px

        .solidHeader &
          {LINK}
            border-right: SOLID_HEADER_BORDER
          {HOVER}
            border: SOLID_HEADER_BORDER_FOCUS

    &.right
      right: 0

      li a
        {LINK}
          border-left: HEADER_BORDER
        {HOVER}
          border: HEADER_BORDER_FOCUS
          padding: 14px 15px 0 16px
        &.on
          border: HEADER_BORDER_FOCUS
          height: HEADER_HEIGHT - 1
          padding: 14px 15px 0 16px

        .solidHeader &
          {LINK}
            border-left: SOLID_HEADER_BORDER
          {HOVER}
            border: SOLID_HEADER_BORDER_FOCUS
          &.on
            border: SOLID_HEADER_BORDER_FOCUS

    li
      float: left
      font-weight: bold
      font-size: 13.5px
      line-height: 1.0em
      text-transform: uppercase

      a
        {LINK}
          color: #FFF
          display: block
          height: HEADER_HEIGHT - 1
          padding: 17px 18px 0 18px

        {HOVER}
          text-decoration: none

        .solidHeader &
          {LINK}
            color: #000


  .courses
    &:after
      content: "\25bc"
      font-size: 12px
      padding-left: 8px 

    &.on:after
      content: "\25b2"


  /**
   * SEARCH
   */

  .search
    padding: 3px
    text-transform: none

    &.searching, {HOVER}
      border: HEADER_BORDER_FOCUS
      padding: 0

    html:not(.solidHeader) &
      background-image: linear-gradient-image(100px top, rgba(255,255,255,0.3), rgba(255,255,255,0.4))
      background-size: 100% 100%
      box-shadow: inset 0 1px 3px rgba(0,0,0,0.4)

    .solidHeader &
      &.searching, {HOVER}
        border: SOLID_HEADER_BORDER_FOCUS

    input
      background: 12px center url('/images/search-white.png') no-repeat
      background-size: 18px 18px
      border: 0
      color: #FFF
      font-size: 14px
      height: HEADER_HEIGHT - 7
      outline: 0
      padding-left: 42px
      width: 100%

      .solidHeader &
        background: 12px center url('/images/search-black.png') no-repeat
        background-size: 18px 18px
        color: #000


    ::-webkit-input-placeholder
      color: #FFF
    :-moz-placeholder
      color: #FFF
    :-ms-input-placeholder
      color: #FFF

    .solidHeader &
      ::-webkit-input-placeholder
        color: #000
      :-moz-placeholder
        color: #000
      :-ms-input-placeholder
        color: #000


  /**
   * AUTOCOMPLETE
   */

  .autocomplete
    background: #FFF
    border: 1px solid LIGHT_GRAY 

    a.result
      {LINK}
        color: black
        display: block
        padding: 8px 14px
        width: 100%
        ellipsis()

      {HOVER}
        color: black
        text-decoration: none

      &.selected
        background-color: LIGHT_BLUE

      .desc
        color: LIGHT_GRAY
        padding-left: 12px


//
// BROWSE
//

HERO_HEIGHT = 250px + HEADER_HEIGHT
HERO_HOME_HEIGHT = HERO_HEIGHT + 60px
BROWSE_HEIGHT = HERO_HOME_HEIGHT - HEADER_HEIGHT

.browseWrapper
  background-color: #000
  padding: 0 30px
  position: fixed
  top: HEADER_HEIGHT
  width: 100%
  z-index: 50

.browse
  height: 0
  padding: 0
  overflow: hidden

  transform: translateZ(0);
  transition-property: padding, height
  transition-duration: .5s

  &.on
    height: BROWSE_HEIGHT
    padding: 30px 0

    transition-property: padding, height
    transition-duration: .5s

  & > li
    border-right: 1px solid DARKER_GRAY
    display: inline-block
    padding: 0 15px
    vertical-align: top
    width: 32%

    &:last-child
      border-right: 0

    h2
      font-size: 19px
      font-weight: bold
      margin-top: 0
      text-transform: uppercase

    li
      list-style: none
      margin: 5px 0

  a
    {LINK}
      color: #FFF
      display: block
      ellipsis()
      width: 100%


//
// HERO & HERO TABS
//

TAB_HEIGHT = 35px

.hero
  border-bottom: 1px solid LIGHT_GRAY
  height: HERO_HEIGHT
  left: 0
  position: absolute
  top: 0
  width: 100%

  body.home &
    height: HERO_HOME_HEIGHT
    hero-image: '/images/hero/outdoor-ipad-books.jpg', top
  body.course.english &
    hero-image: '/images/hero/english.jpg'
  body.course.us-government &
    hero-image: '/images/hero/us-government.jpg'
  body.course.us-history &
    hero-image: '/images/hero/us-history-2.jpg'

  .text
    color: #FFF
    margin: 110px 50px 50px LOGO_WIDTH
    text-align: left
    transition: 0.5s opacity linear
    body.home &
      text-align: center

  h1, h2, h3
    font-family: HERO_FONT
    text-shadow: 1px 1px 2px rgba(#000, 0.8)
    margin: 0.3em 0
  h1
    font-size: 50px
    font-weight: bold
    text-shadow: 2px 2px 3px rgba(#000, 0.8)
    body.home &
      font-size: 80px
  h2
    font-size: 30px
    body.home &
      font-size: 40px
  h3
    font-size: 20px
    body.home &
      font-size: 25px

  .csstransitions &.dim
    .text
      opacity: 0
    .tabs
      opacity: 0

  .tabs
    height: TAB_HEIGHT
    left: 0
    list-style: none
    padding-left: LOGO_WIDTH
    position: absolute
    transition: 0.5s opacity linear
    top: HERO_HEIGHT - TAB_HEIGHT - 1 // for border
    width: 100%

    li
      float: left
      margin-right: 8px
      padding: 0

      a
        {LINK}
          background: top left linear-gradient-image(TAB_HEIGHT top, #FFF, LIGHTEST_GRAY) repeat-x
          border-top: 1px solid LIGHT_GRAY
          border-left: 1px solid LIGHT_GRAY
          border-right: 1px solid LIGHT_GRAY
          border-top-left-radius: 5px
          border-top-right-radius: 5px
          box-shadow: 0 0 3px rgba(0, 0, 0, 0.1)
          color: DARKER_GRAY
          display: block
          height: TAB_HEIGHT
          padding: 7px 12px 0 12px
          font-weight: bold
          text-shadow: #FFF 1px 1px 1px

        {HOVER}
          background: APPLE_CHIC
          text-decoration: none


      &.on a
        {LINK}
          background: #FFF
          border-bottom: 1px solid #FFF
          height: TAB_HEIGHT + 1


//
// CONTENT
//

SIDEBAR_WIDTH = 336px
SIDEBAR_MARGIN_LEFT = 100px
SIDEBAR_MARGIN_RIGHT = 40px
CONTENT_PADDING_TOP = 50px

.contentWrapper
  background: #FFF
  float: left
  margin-right: - (SIDEBAR_WIDTH + SIDEBAR_MARGIN_LEFT + SIDEBAR_MARGIN_RIGHT)
  margin-top: HEADER_HEIGHT
  padding: CONTENT_PADDING_TOP 0 50px LOGO_WIDTH
  position: relative
  width: 100%

  .isHero &
    margin-top: HERO_HEIGHT
  .isHero body.home &
    margin-top: HERO_HOME_HEIGHT


.content
  margin-right: (SIDEBAR_WIDTH + SIDEBAR_MARGIN_LEFT + SIDEBAR_MARGIN_RIGHT)

  h1
    border-bottom: 1px solid LIGHTEST_GRAY
    margin: 10px 0 30px 0
    padding-bottom: 20px

  ul:not(.listing)
    padding-left: 20px

.breadcrumbs
  font-size: 15px
  font-weight: bold
  text-transform: uppercase

  .divider::before
    content: '\2192'
    margin: 0 7px

.noteNav
  margin-top: 30px

  .prev, .next
    display: inline-block
    ellipsis()
    font-weight: bold
    width: 45%      

  .prev
    float: left

    &:before
      content: '\25c0'
      float: left
      font-size: 12px
      padding-right: 10px

  .next
    float: right
    text-align: right

    &:before
      content: '\25b6'
      float: right
      font-size: 12px
      padding-left: 10px
   


//
// SIDEBAR
//

.sidebar
  background: #FFF
  float: right
  margin: CONTENT_PADDING_TOP SIDEBAR_MARGIN_RIGHT 0 SIDEBAR_MARGIN_LEFT
  padding-top: HEADER_HEIGHT
  position: relative
  width: SIDEBAR_WIDTH

  .isHero &
    margin-top: HERO_HEIGHT
  .isHero body.home &
    margin-top: HERO_HOME_HEIGHT

  .ad
    margin-bottom: 15px


//
// PAGE-SPECIFIC STYLES
//



//
// AMAZON
//
.amazon
  border-top: 1px solid LIGHTER_GRAY
  margin-top: 40px

  h3
    margin-bottom: 10px
  p
    margin-top: 10px
  img
    float: left
    padding: 0 20px 0 0

//
// FOOTER
//

.footer
  background: #FFF
  clear: both
  margin-bottom: 0
  padding-bottom: 50px
  position: relative
  width: 100%
