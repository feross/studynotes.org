@import '../vendor/fontello/css/fontello-embedded.css'

@import 'nib'
@import 'colors'

heading_font()
  font-family: -apple-system-headline, -apple-system, Futura, 'Trebuchet MS', Arial, sans-serif

body_font()
  font-family: -apple-system-body, -apple-system, 'proxima-nova', Helvetica, sans-serif

form_font()
  font-family: 'Lucida Grande', sans-serif

HEADER_HEIGHT = 50px
HERO_HEIGHT = 400px + HEADER_HEIGHT
BROWSE_MENU_HEIGHT = 280px

HEADER_BORDER = 1px solid rgba(255, 255, 255, 0.7)
SOLID_HEADER_BORDER = 1px solid GRAY_LIGHT
HEADER_BORDER_FOCUS = 3px solid #FFF
SOLID_HEADER_BORDER_FOCUS = 3px solid #000

PHONE = 'only screen and (max-width: 699px)'
TABLET = 'only screen and (min-width: 700px) and (max-width: 1099px)'
DESKTOP = 'only screen and (min-width: 1100px)'

DESKTOP_TIGHT = 'only screen and (min-width: 1100px) and (max-width: 1150px)'
TABLET_TIGHT = 'only screen and (min-width: 700px) and (max-width: 849px)'
PHONE_TIGHT = 'only screen and (max-width: 549px)'

PHONE_FONT_SIZE = 16px
TABLET_FONT_SIZE = 17px
DESKTOP_FONT_SIZE = 18px

SIDEBAR_WIDTH = 336px
SIDEBAR_WIDTH_TABLET = 160px

GUTTER_PHONE = 0px
GUTTER_TABLET = 18px
GUTTER_DESKTOP = 27px

CONTENT_PADDING_PHONE = 18px
CONTENT_PADDING_TABLET = 36px
CONTENT_PADDING_DESKTOP = 45px

MAX_WIDTH = 1050px

// For convenience, when styling links

LINK = '&:link, &:visited'
HOVER = '&:hover, &:focus, &:active'

ellipsis()
  overflow: hidden
  text-overflow: ellipsis
  white-space: nowrap

.clearfix:before, .clearfix:after
  content: ""
  display: table

.clearfix:after
  clear: both

.off
  display: none

.gray
  color: GRAY

.red
  color: red

.center
  text-align: center

.strong
  font-weight: bold

.row
  clear: both
  width: 100%

  @media PHONE
    margin-bottom: (CONTENT_PADDING_PHONE / 2)
  @media TABLET
    margin-bottom: (CONTENT_PADDING_TABLET / 2)
  @media DESKTOP
    margin-bottom: (CONTENT_PADDING_DESKTOP / 2)

  &:last-child
    margin-bottom: 0

.row:before, .row:after // clearfix
  content: ""
  display: table
.row:after
  clear: both

.col
  float: left
  vertical-align: top
  @media PHONE
    float: none
    width: 100% !important
  @media TABLET_TIGHT
    float: none
    width: 100% !important

.col2
  @extend .col
  width: 50%

  &:first-child
    padding-right: 7px
    @media PHONE
      padding-right: 0
    @media TABLET_TIGHT
      padding-right: 0
  &:last-child
    padding-left: 7px
    @media PHONE
      padding-left: 0
    @media TABLET_TIGHT
      padding-left: 0

  @media PHONE
    ul:first-child
      margin-bottom: 0
  @media TABLET_TIGHT
    ul:first-child
      margin-bottom: 0

.col3
  @extend .col
  width: 33.3%
  &:first-child
    padding-right: 10px
    @media PHONE
      padding-right: 0
    @media TABLET_TIGHT
      padding-right: 0
  &:nth-child(2)
    padding-left: 5px
    padding-right: 5px
    @media PHONE
      padding-left: 0
      padding-right: 0
    @media TABLET_TIGHT
      padding-left: 0
      padding-right: 0
  &:last-child
    padding-left: 10px
    @media PHONE
      padding-left: 0
    @media TABLET_TIGHT
      padding-left: 0

.col4
  @extend .col
  width: 25%
  &:first-child
    padding-right: 10px
    @media PHONE
      padding-right: 0
    @media TABLET_TIGHT
      padding-right: 0
  &:nth-child(2), &:nth-child(3)
    padding-left: 5px
    padding-right: 5px
    @media PHONE
      padding-left: 0
      padding-right: 0
    @media TABLET_TIGHT
      padding-left: 0
      padding-right: 0
  &:last-child
    padding-left: 10px
    @media PHONE
      padding-left: 0
    @media TABLET_TIGHT
      padding-left: 0

.hide-phone
  @media PHONE
    display: none !important
.hide-phone-tight
  @media PHONE_TIGHT
    display: none !important
.hide-tablet
  @media TABLET
    display: none !important
.hide-tablet-tight
  @media TABLET_TIGHT
    display: none !important
.hide-desktop
  @media DESKTOP
    display: none !important

.hide-tight
  @media TABLET_TIGHT
    display: none !important
  @media PHONE_TIGHT
    display: none !important

.phone
  @media TABLET
    display: none !important
  @media DESKTOP
    display: none !important
.tablet
  @media PHONE
    display: none !important
  @media DESKTOP
    display: none !important
.desktop
  @media PHONE
    display: none !important
  @media TABLET
    display: none !important

html.mobile .hide-mobile
  display: none !important

html:not(.mobile) .only-mobile
  display: none !important

*, *:before, *:after
  box-sizing: border-box

html.studynotes // i.e. not within ckeditor
  overflow-y: scroll

body
  body_font()
  color: GRAY_DARKEST
  font-size: 18px
  line-height: 1.5em
  margin: 0
  min-height: 100%
  padding: 0
  -webkit-font-smoothing: antialiased
  -moz-osx-font-smoothing: grayscale

  &:not(.cke_editable)
    background: #F0F0F0

  @media PHONE
    font-size: PHONE_FONT_SIZE
    line-height: 1.5em
  @media TABLET
    font-size: TABLET_FONT_SIZE
    line-height: 1.5em
  @media DESKTOP
    font-size: DESKTOP_FONT_SIZE
    line-height: 1.5em

img, iframe, video
  max-width: 100%

p
  img, video
    @media PHONE
      margin-bottom: (PHONE_FONT_SIZE * 1.5)px
    @media TABLET
      margin-bottom: (TABLET_FONT_SIZE * 1.5)px
    @media DESKTOP
      margin-bottom: (DESKTOP_FONT_SIZE * 1.5)px

a
  {LINK}
    color: BLUE
    text-decoration: none

  {HOVER}
    color: BLUE_DARK
    text-decoration: underline

a:hover img, a:active img
  filter: brightness(0.8)

a[href^="mailto"]
  font-weight: bold

h1, h2, h3, h4, h5
  heading_font()
  font-weight: 500
  margin: 0
  text-rendering: optimizelegibility

  .btn
    float: right

h1, .hero .title
  font-size: 2.3em
  line-height: (3 / 2.3)em
  margin-bottom: (1.5 / 2.3)em
  @media PHONE
      font-size: 2em
h2, .hero .desc
  font-size: 1.5em
  line-height: (1.5 / 1.5)em
  margin-bottom: (1.5 / 1.5)em
h3
  font-size: 1.2em
  line-height: (1.5 / 1.2)em
  margin-bottom: (1.5 / 1.2)em
h4
  font-size: 1.125em
  line-height: (1.5 / 1.125)em
  margin-bottom: (1.5 / 1.125)em
h5
  font-size: 1em
  line-height: (1.5 / 1)em
  margin-bottom: 1.5em

p, blockquote, pre
  margin: 0 0 1.5em 0

blockquote
  border-left: 5px solid GRAY_LIGHT
  padding-left: 35px

hr
  background-color: GRAY_LIGHTER
  border: 0
  color: GRAY_LIGHTER
  height: 1px
  margin: 1.5em 0

//
// CONTENT
//

.wrap
  margin: 0 auto
  max-width: MAX_WIDTH
  padding-top: HEADER_HEIGHT
  position: relative
  width: 100%

  body.study-guides &
    max-width: 950px

  @media PHONE
    padding-left: GUTTER_PHONE
    padding-right: GUTTER_PHONE
    body.home &
      padding-top: 0
  @media TABLET
    padding-left: GUTTER_TABLET
    padding-right: GUTTER_TABLET
  @media DESKTOP
    padding-left: GUTTER_DESKTOP
    padding-right: GUTTER_DESKTOP

  html.main-sidebar &
    @media PHONE
      max-width: 100%
    @media TABLET
      max-width: MAX_WIDTH + SIDEBAR_WIDTH_TABLET + GUTTER_TABLET
    @media DESKTOP
      max-width: MAX_WIDTH + SIDEBAR_WIDTH + GUTTER_DESKTOP

.contentWrapper
  float: left
  overflow-wrap: break-word // allow long words to be broken
  width: 100%
  word-wrap: break-word // allow long words to be broken

  @media PHONE
    float: none
  @media TABLET
    margin-right: -(SIDEBAR_WIDTH_TABLET + GUTTER_TABLET)
  @media DESKTOP
    margin-right: -(SIDEBAR_WIDTH + GUTTER_DESKTOP)

.content, .twitter-timeline
  border-radius: 5px

  @media PHONE
    box-shadow: none

.twitter-home
  height: 600px
  opacity: 0

.content
  background: #FFF

  html.main-sidebar &
    @media PHONE
      margin-right: 0
    @media TABLET
      margin-right: SIDEBAR_WIDTH_TABLET + GUTTER_TABLET
    @media DESKTOP
      margin-right: SIDEBAR_WIDTH + GUTTER_DESKTOP

  @media PHONE
    border-radius: 0
    padding: CONTENT_PADDING_PHONE
  @media TABLET
    padding: CONTENT_PADDING_TABLET
  @media DESKTOP
    padding: CONTENT_PADDING_DESKTOP

  h1
    @media PHONE
      text-align: center

img, video
  margin: 0 0 1.5em 0

.pull-left
  margin: 20px 20px 10px 0
  float: left

.pull-right
  margin: 0 0 5px 20px
  float: right
  @media PHONE
    float: none
    margin-left: 0

// Attention animation

@keyframes pulse
  0%
    transform: scale(1)
  50%
    transform: scale(1.1)

.pulse
  animation: pulse both 0.4s

@import 'ads'
@import 'birdy'
@import 'browseMenus'
@import 'buttons'
@import 'editor'
@import 'footer'
@import 'form'
@import 'header'
@import 'hero'
@import 'list'
@import 'note'
@import 'notify-jackedup'
@import 'notify-libnotify'
@import 'print'
@import 'sidebar'
@import 'toolbar'
@import 'user'
@import 'view'
